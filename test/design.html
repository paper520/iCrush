<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="../dist/iCrush.babel.js"></script>
    <title>主体设计 | iCrush单一测试</title>
    <link rel="shortcut icon" href="../logo.png">
</head>

<body>

    <div id='root'>
        <a href="https://github.com/yelloxing/iCrush">点击我</a>
        <ul @click='doit1()'>
            <li @dblclick.stop='doit2()'>flag1:{{flag1}}</li>
            <li>flag2:{{flag2}}---</li>
        </ul>
    </div>
    <script>
        function printInfo(that) {
            console.log("isDestroyed:" + that.__isDestroyed);
            console.log("isMounted:" + that.__isMounted);
            console.log(JSON.parse(JSON.stringify(that._data || {})));

            // 打印当前对象
            console.log(that);
        }

        window.icrush = new iCrush({

            // 挂载点
            // el: document.getElementById('root'),
            el: "#root",
            // 数据
            data: function () {
                return {
                    flag1: "标志1",
                    flag2: "标志2"
                };
            },

            // 方法
            methods: {
                doit1: function () {
                    alert(this.flag2);
                },
                doit2: function () {
                    alert(this.flag2);
                }
            },

            // 生命周期
            beforeCreate: function () {
                console.warn("beforeCreate");
                console.log(this);
            },
            created: function () {
                console.warn("created");
                printInfo(this);
            },
            beforeMount: function () {
                console.warn("beforeMount");
                printInfo(this);
            },
            mounted: function () {
                console.warn("mounted");
                printInfo(this);
            },
            beforeUpdate: function () {
                console.warn("beforeUpdate");
                printInfo(this);
            },
            updated: function () {
                console.warn("updated");
                printInfo(this);
            },
            beforeDestroy: function () {
                console.warn("beforeDestroy");
                printInfo(this);
            },
            destroyed: function () {
                console.warn("destroyed");
                printInfo(this);
            }

        });
    </script>

</body>

</html>